const axios = require("axios");

module.exports.config = {
  name: "funmsg",
  version: "1.0.0",
  permission: 0,
  credits: "RiisHaD SoBuJ",
  description: "Send a random funny message to yourself or a tagged user",
  prefix: true,
  category: "fun",
  usages: "funmsg [@mention]",
  cooldowns: 5,
};

module.exports.run = async ({ api, event, args }) => {
  const { threadID, senderID, messageID, mentions } = event;

  // React to the message
  api.setMessageReaction("ЁЯШВ", messageID, () => {}, true);

  // Determine target user
  const isMentioned = Object.keys(mentions).length > 0;
  const targetID = isMentioned ? Object.keys(mentions)[0] : senderID;
  const targetName = isMentioned ? mentions[targetID].replace("@", "") : "you";

  // List of 50 funny messages
  const funnyLines = [
    "рждрзБржЗ рж╣рж╛ржЗржбрзНрж░рзЛржЬрзЗржи ржмрзЛржорзНржм, ржХрж┐ржирзНрждрзБ ржорж╛ржерж╛рзЯ рж╢рзБржзрзБ ржмрж╛рждрж╛рж╕!",
    "рждрзЛрж░ ржмрзНрж░рзЗржЗржирзЗ Wi-Fi ржирж╛ржЗ, рж╢рзБржзрзБ ping ржЖрж╕рзЗ!",
    "рждрзБржЗ ржЬржирзНржорж╛рзЯрж╛ ржорж╛рзЯрж╛рж░ ржнрзБрж▓ ржкрзНрж░рзБржл!",
    "рждрзЛрж░ рж╣рж╛рж╕рж┐ ржжрзЗржЦрж▓рзЗ рж░рзЗржлрзНрж░рж┐ржЬрж╛рж░рзЗржЯрж░ ржарж╛ржирзНржбрж╛ рж╣рзЯ!",
    "рждрзБржЗ ржПржд ржлрж╛рж▓рждрзБ, Google рждрзЛржХрзЗ ржЦрзБржБржЬрзЗ ржкрж╛рзЯ ржирж╛!",
    "рждрзЛрж░ рж▓ржЬрж┐ржХ ржорж╛ржирзЗ ржмрж╛рж▓рж┐рж░ ржЙржкрж░ ржШрж░!",
    "рждрзБржЗ ржлрзЗрж╕ржмрзБржХрзЗрж░ ржорзВрж░рзНрждрж┐ржорж╛ржи ржмрзЗржХрж╛рж░!",
    "рждрзБржЗ ржорж╢рж╛рж░ ржЪрзЗрзЯрзЗржУ ржмрж┐ржкржжржЬржиржХ!",
    "рждрзЛрж░ ржЬржирзНржо ржмрзНрж▓рзБ ржЯрж┐ржХрзЗрж░ ржЖржЧрзЗ, ржХрж┐ржирзНрждрзБ ржХрж╛ржЬ ржХрж┐ржЫрзБ ржирж╛ржЗ!",
    "рждрзБржЗ ржкрзЗржБрзЯрж╛ржЬрзЗрж░ ржжрж╛ржорзЗ ржЖрждрзНржорж╕ржорзНржорж╛ржи ржмрж┐ржХрзНрж░рж┐ ржХрж░рж┐рж╕!",
    "рждрзЛрж░ IQ ржжрзЗржЦрзЗ ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░ рж╣рж╛рж╕рзЗ!",
    "рждрзБржЗ ржПржоржи ржЧрж╛ржзрж╛, ржШрзЛрзЬрж╛ржУ рждрзЛржХрзЗ ржжрзЗржЦрзЗ рж╣рж╛ржБрж╕рзЗ!",
    "рждрзЛрж░ ржорж╛ржерж╛рзЯ рж╢рзБржзрзБржЗ FM ржмрж╛ржЬрзЗ!",
    "рждрзБржЗ ржПржд ржорж┐рж╖рзНржЯрж┐, ржЪрж┐ржирж┐ржУ рж╣рж┐ржВрж╕рзЗ ржХрж░рзЗ!",
    "рждрзБржЗ рж░рж╛рж╕рзНрждрж╛рзЯ ржирж╛ржорж▓рзЗ рж▓рж╛ржЗржЯржУ ржмржирзНржз рж╣рзЯрзЗ ржпрж╛рзЯ!",
    "рждрзЛрж░ ржмрзБржжрзНржзрж┐ рж╕рж┐ржо ржХрж╛рж░рзНржб ржЫрж╛рзЬрж╛ ржорзЛржмрж╛ржЗрж▓!",
    "рждрзБржЗ ржПржоржи ржлрж╛рж▓рждрзБ, recycle bin рждрзЛржХрзЗ delete ржХрж░рждрзЗ ржЪрж╛рзЯ!",
    "рждрзЛрж░ ржкрзНрж░рзЗржо ржорж╛ржирзЗ TikTok ржЯрзНрж░рзЗржирзНржб!",
    "рждрзЛрж░ ржорж╛ржерж╛ ржЧрзБржЧрж▓рзЗ рж╕рж╛рж░рзНржЪ ржХрж░рж▓рзЗ 'not found'!",
    "рждрзБржЗ рж╢рзБржзрзБ ржЕрзНржпрж╛ржХрзНржЯрж┐ржн, ржмрзНрж░рзЗржЗржи inactive!",
    "рждрзБржЗ рзирзк ржШржирзНржЯрж╛ ржЕржирж▓рж╛ржЗржи, ржХрж┐ржирзНрждрзБ ржХрж╛ржЬ 0%",
    "рждрзЛрж░ ржорждрзЛ ржлрзНрж░рзЗржирзНржб ржерж╛ржХрж▓рзЗ рж╢рждрзНрж░рзБ ржжрж░ржХрж╛рж░ ржирзЗржЗ!",
    "рждрзБржЗ ржПржд ржмрзЛржХрж╛, ржнрзБрж▓рзЗржУ answer ржжрзЗрзЯ ржирж╛!",
    "рждрзБржЗ ржорж╛ржерж╛рзЯ ржШрж╛рж╕ рж▓рж╛ржЧрж┐рзЯрзЗ ржЧрж░рзБрж░ рж╕рж╛ржерзЗ ржкрзНрж░рждрж┐ржпрзЛржЧрж┐рждрж╛ ржХрж░рж┐рж╕!",
    "рждрзБржЗ рж▓рж┐ржорж┐ржЯрзЗржб ржПржбрж┐рж╢ржи ржЧрж╛ржзрж╛!",
    "рждрзЛрж░ ржмрзБржжрзНржзрж┐рж░ ржмрж╛рж▓рзНржм ржлрж┐ржЙржЬ рж╣рзЯрзЗ ржЧрзЗржЫрзЗ!",
    "рждрзЛрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржжрзЗржЦрж▓рзЗржЗ ржЖрждрзНржоржмрж┐рж╢рзНржмрж╛рж╕ ржХржорзЗ ржпрж╛рзЯ!",
    "рждрзБржЗ ржПржоржи ржлрж╛ржЬрж┐рж▓, teacher рждрзЛржХрзЗ block ржжрж┐ржЫрзЗ!",
    "рждрзЛрж░ ржкрж╛рзЯрзЗрж░ ржЫрж╛рзЯрж╛ ржжрзЗржЦрж▓рзЗржУ рж▓рзЛржХржЬржи ржнрзЯ ржкрж╛рзЯ!",
    "рждрзЛрж░ ржмрзЛржХрж╛ржорж┐ ржжрзЗржЦрзЗржЗ рж░рзЛржмржЯрж░рж╛ ржЪрж╛ржХрж░рж┐ ржЫрзЗрзЬрзЗ ржжрзЗрзЯ!",
    "рждрзБржЗ ржПржоржи meme, ржпрж╛ ржХрзЗржЙ рж╢рзЗрзЯрж╛рж░ ржХрж░рждрзЗржУ ржЪрж╛рзЯ ржирж╛!",
    "рждрзЛрж░ ржорждрзЛржЗ useless pen drive тАФ no data, no use!",
    "рждрзБржЗ рж╣рж╛рж╕рж▓рзЗ keyboard error ржжрзЗрзЯ!",
    "рждрзБржЗ ржкрзНрж░рзЗржо ржХрж░рж▓рзЗ WiFi ржмржирзНржз рж╣рзЯрзЗ ржпрж╛рзЯ!",
    "рждрзБржЗ ржПржд slow, snail рждрзЛржХрзЗ ржжрзЗржЦрзЗ рж╣рж╛рж╕рзЗ!",
    "рждрзБржЗ ржирж╛ ржлрзНрж░рзЗржирзНржб, CPU ржПрж░ virus!",
    "рждрзБржЗ рждрзЛрж░ ржирж┐ржЬрзЗрж░ shadow ржХрзЗ block ржХрж░рзЗржЫрж┐рж╕!",
    "рждрзЛрж░ ржорзБржЦ ржжрзЗржЦрж▓рзЗржЗ ржоржирзЗ рж╣рзЯ filter ржнрзЗржЩрзЗ ржЧрзЗржЫрзЗ!",
    "рждрзБржЗ рж╣ржЪрзНржЫрзЗ logic without sense!",
    "рждрзЛрж░ attitude zero byte!",
    "рждрзБржЗ ржнрзБрж▓рзЗржУ ржарж┐ржХ ржХржерж╛ ржмрж▓рж┐рж╕ ржирж╛!",
    "рждрзБржЗ ржПржд ржлрж╛рж▓рждрзБ, recycle bin рждрзЛржХрзЗ ржмрж╛ржБржЪрж┐рзЯрзЗ рж░рж╛ржЦрзЗ!",
    "рждрзБржЗ ржПржХржЯрж╛ real life lag!",
    "рждрзЛрж░ ржорж╛ржерж╛рзЯ RAM ржирзЗржЗ, рж╢рзБржзрзБ noise!",
    "рждрзБржЗ рж╕рзЗржЗ file, ржпрж╛рж░ extension ржЦрзБржБржЬрзЗ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ ржирж╛!",
    "рждрзЛрж░ ржорждрзЛ ржмрзЗржХрж╛рж░ ржорж╛ржирзЗржЗ inspiration for time waste!",
    "рждрзБржЗ posting ржжрж┐рзЯрзЗ ржкрзГржерж┐ржмрзАрж░ рж╕ржорзЯ ржирж╖рзНржЯ ржХрж░рж┐рж╕!",
    "рждрзБржЗ ржкрзНрж░рзЗржорзЗ ржкрзЬрж▓рзЗ WiFi disconnect рж╣рзЯ!",
    "рждрзЛрж░ status ржорж╛ржирзЗ 'error 404 тАУ life not found'!",
    "рждрзБржЗ ржПржоржи ржХрж┐ржЙржЯ, ржмрж╛ржЪрзНржЪрж╛рж░рж╛ ржнрзЯ ржкрж╛рзЯ!",
    "рждрзЛрж░ ржХржерж╛ рж╢рзБржирзЗ ржорзЛржмрж╛ржЗрж▓ ржирж┐ржЬрзЗржЗ silent рж╣рзЯрзЗ ржпрж╛рзЯ!"
  ];

  // Pick random message
  const msg = funnyLines[Math.floor(Math.random() * funnyLines.length)];

  // Send response
  api.sendMessage(`${targetName}, ${msg}`, threadID, messageID);
};
