module.exports.config = {
  name: "compliment",
  version: "1.0.1",
  permission: 0,
  credits: "RiisHaD",
  description: "Send a funny or sweet compliment to someone you mention",
  prefix: true,
  category: "fun",
  usages: "compliment @mention",
  cooldowns: 5,
};

module.exports.run = async ({ api, event }) => {
  const { threadID, messageID, mentions } = event;
  const mentionIDs = Object.keys(mentions);

  if (mentionIDs.length === 0) {
    return api.sendMessage(
      "тЪая╕П ржжрзЯрж╛ ржХрж░рзЗ ржХрж╛ржЙржХрзЗ @mention ржХрж░рзЛ, ржпрзЗржоржи:\ncompliment @user",
      threadID,
      messageID
    );
  }

  const targetID = mentionIDs[0];
  const targetName = mentions[targetID].replace(/^@/, "");

  const compliments = [
    "рждрзЛржорж╛рж░ рж╣рж╛рж╕рж┐ ржжрзЗржЦрж▓рзЗ рж╕рзВрж░рзНржп рж▓ржЬрзНржЬрж╛ржпрж╝ рж▓рзБржХрж┐ржпрж╝рзЗ ржпрж╛ржпрж╝! тШАя╕ПЁЯШК",
    "рждрзБржорж┐ ржпрзЗржи ржмрзГрж╖рзНржЯрж┐рж░ ржорж╛ржЭржЦрж╛ржирзЗ ржЭрж▓ржорж▓рзЗ рж░рзЛржжрзЗрж░ ржоржд! ЁЯМЮЁЯТЦ",
    "рждрзЛржорж╛рж░ ржмрзБржжрзНржзрж┐ ржжрзЗржЦрзЗ calculator рж▓ржЬрзНржЬрж╛ ржкрж╛рзЯ! ЁЯза",
    "рждрзБржорж┐ ржПржд рж╕рзНржорж╛рж░рзНржЯ ржпрзЗ, ржЧрзБржЧрж▓ рждрзЛржорж╛рж░ ржХрж╛ржЫ ржерзЗржХрзЗ рж╢рзЗржЦрзЗ! ЁЯдУ",
    "рждрзБржорж┐ ржПржХрзЗржмрж╛рж░рзЗ ржнрж╛ржЗ-ржмрзЛржирзЗрж░ ржорждрзЛ ржорж┐рж╖рзНржЯрж┐! ЁЯНм",
    "рждрзЛржорж╛рж░ ржЪрзЛржЦрзЗ ржЪрж╛ржБржжрзЗрж░ ржЖрж▓рзЛ ржлрзБржЯрзЗ ржЖржЫрзЗ! ЁЯМЩтЬи",
    "рждрзБржорж┐ ржмржирзНржзрзБрждрзНржмрзЗрж░ ржбрж╛ржпрж╝ржоржирзНржб, ржпрж╛ ржХржЦржирзЛ рж╣рж╛рж░рж╛рзЯ ржирж╛! ЁЯТО",
    "рждрзБржорж┐ ржмржЗрзЯрзЗрж░ ржорждрзЛ, ржпрж╛ ржкрзЬрждрзЗ ржХржЦржирзЛ ржХрзНрж▓рж╛ржирзНрждрж┐ рж▓рж╛ржЧрзЗ ржирж╛! ЁЯУЦ",
    "рждрзЛржорж╛рж░ рж╣рж╛рж╕рж┐ ржЖржорж╛рж░ рж╕ржм ржжрзБржГржЦ ржнрзБрж▓рж┐ржпрж╝рзЗ ржжрзЗржпрж╝! ЁЯШД",
    "рждрзБржорж┐ ржПржХржжржо sunshine, рж╕ржмрж╛ржЗржХрзЗ ржЖрж▓рзЛржХрж┐ржд ржХрж░рзЛ! тШАя╕П",
    "рждрзБржорж┐ ржПржХржжржо ржоржзрзБрж░ рж╣рж╛рж╕рж┐, ржпрж╛ рж╕ржмрж╛ржЗржХрзЗ ржнрж╛рж▓рзЛ рж▓рж╛ржЧрзЗ! ЁЯНп",
    "рждрзБржорж┐ ржЬрзАржмржиржХрзЗ рж░ржЩрж┐ржи ржХрж░рзЛ! ЁЯМИ",
    "рждрзЛржорж╛рж░ ржЙржкрж╕рзНржерж┐рждрж┐ ржерзЗржХрзЗржЗ ржЙрзОрж╕ржм рж╢рзБрж░рзБ рж╣ржпрж╝! ЁЯОЙ"
  ];

  const compliment = compliments[Math.floor(Math.random() * compliments.length)];

  const message = {
    body: `@${targetName}, ${compliment}`,
    mentions: [{
      tag: `@${targetName}`,
      id: targetID
    }]
  };

  return api.sendMessage(message, threadID, messageID);
};
